(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{SK8f:function(e,a,t){"use strict";var n=t("fbTi"),l=t("mZ4U");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=l(t("lclS")),i=l(t("mK77"));t("pOT0");var d=l(t("/3qE")),r=l(t("43Yg")),u=l(t("/tCh")),c=l(t("scpF")),f=l(t("O/V9")),s=l(t("8aBX")),m=n(t("i9FB")),p=t("LneV"),h=l(t("hgAY")),g=l(t("a/LZ")),v=function(e){function a(){var e;return(0,r.default)(this,a),e=(0,c.default)(this,(0,f.default)(a).apply(this,arguments)),e.state={confirmLoading:!1},e.handleSubmitModal=function(a){var t=e.props,n=t.onOk,l=t.dispatch,o=t.modalData.id;e.setState({confirmLoading:!0});var r=function(t){e.setState({confirmLoading:!1}),1===t.code?(l({type:"global/fetchVoltage",payload:{pageNum:1,pageSize:100}}),n(a)):d.default.error(t.msg)},u=(0,g.default)(a.productionDate).format("YYYY-MM-DD HH:mm:ss");l({type:o?"carInfo/updateVoltage":"carInfo/addVoltage",payload:(0,i.default)({id:o},a,{productionDate:u}),callback:r})},e}return(0,s.default)(a,e),(0,u.default)(a,[{key:"modalFromColumns",value:function(){var e=this.props.modalData,a=e.model,t=(e.factory,e.productionDate),n=e.lowVoltageAlarmValue,l=e.automaticPoweroffValue,o=e.remark;return[{title:"\u7535\u74f6\u578b\u53f7",dataIndex:"model",componentType:"Input",initialValue:a,requiredMessage:"\u8bf7\u8f93\u5165\u7535\u74f6\u578b\u53f7",required:!0,placeholder:"\u8bf7\u8f93\u5165\u7535\u74f6\u578b\u53f7"},{title:"\u751f\u4ea7\u65e5\u671f",dataIndex:"productionDate",componentType:"DatePicker",initialValue:t?(0,g.default)(t):"",requiredMessage:"\u8bf7\u9009\u62e9\u751f\u4ea7\u65e5\u671f",required:!0,placeholder:"\u8bf7\u9009\u62e9\u751f\u4ea7\u65e5\u671f"},{title:"\u7535\u538b\u504f\u4f4e\u62a5\u8b66\u503c",dataIndex:"lowVoltageAlarmValue",componentType:"InputNumber",initialValue:n,requiredMessage:"\u8bf7\u8f93\u5165\u7535\u538b\u504f\u4f4e\u62a5\u8b66\u503c",required:!0,placeholder:"\u8bf7\u8f93\u5165\u7535\u538b\u504f\u4f4e\u62a5\u8b66\u503c"},{title:"\u7535\u538b\u81ea\u52a8\u65ad\u7535\u503c",dataIndex:"automaticPoweroffValue",componentType:"InputNumber",initialValue:l,requiredMessage:"\u8bf7\u8f93\u5165\u7535\u538b\u81ea\u52a8\u65ad\u7535\u503c",required:!0,placeholder:"\u8bf7\u8f93\u5165\u7535\u538b\u81ea\u52a8\u65ad\u7535\u503c"},{title:"\u5907\u6ce8",dataIndex:"remark",componentType:"TextArea",initialValue:o,placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8"}]}},{key:"render",value:function(){var e=this.state.confirmLoading,a=this.props,t=a.modalVisible,n=a.onCancel,l=a.modalData.id;return m.default.createElement(m.Fragment,null,m.default.createElement(h.default,{title:l?"\u4fee\u6539":"\u6dfb\u52a0",columns:this.modalFromColumns(),onOk:this.handleSubmitModal,visible:t,confirmLoading:e,onCancel:n}))}}]),a}(m.Component),y=(0,p.connect)(function(e){return(0,o.default)(e),{}})(v);a.default=y},glvU:function(e,a,t){"use strict";var n=t("fbTi"),l=t("mZ4U");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("W3ek");var o=l(t("3N2t"));t("aMK7");var i=l(t("NgbC"));t("pOT0");var d=l(t("/3qE")),r=l(t("mK77")),u=l(t("43Yg")),c=l(t("/tCh")),f=l(t("scpF")),s=l(t("O/V9")),m=l(t("8aBX"));t("I1Ti");var p=l(t("r3a+")),h=n(t("i9FB")),g=t("LneV");t("1OjR");var v=t("eDcw"),y=l(t("cPMy")),D=l(t("CEDc")),V=l(t("SK8f")),k=p.default.confirm,I=function(e){function a(){var e;return(0,u.default)(this,a),e=(0,f.default)(this,(0,s.default)(a).apply(this,arguments)),e.state={loading:!1,modalVisible:!1,modalData:{},searchData:{},pageInfo:{pageSize:10,pageNum:1}},e.columns=[{title:"\u7535\u74f6\u578b\u53f7",dataIndex:"model",key:"model"},{title:"\u751f\u4ea7\u65e5\u671f",dataIndex:"productionDate",key:"productionDate"},{title:"\u7535\u538b\u62a5\u8b66\u503c",dataIndex:"lowVoltageAlarmValue",key:"lowVoltageAlarmValue"},{title:"\u7535\u538b\u65ad\u7535\u503c",dataIndex:"automaticPoweroffValue",key:"automaticPoweroffValue"},{title:"\u5907\u6ce8",dataIndex:"remark",key:"remark"},{title:"\u6dfb\u52a0\u65e5\u671f",dataIndex:"createAt",key:"createAt"},{title:"\u64cd\u4f5c",width:200,render:function(a){return h.default.createElement("div",{className:"table-operate"},h.default.createElement("a",{onClick:function(){return e.handleEdit(a)}},"\u4fee\u6539"),h.default.createElement("a",{onClick:function(){return e.handleDel(a.id)}},"\u5220\u9664"))}}],e.handleSubmitModal=function(){e.handleTriggerModal(),e.initData()},e.handleTriggerModal=function(){var a=e.state.modalVisible;e.setState({modalVisible:!a})},e.handleAddNew=function(){e.setState({modalData:{}}),e.handleTriggerModal()},e.handleEdit=function(a){e.setState({modalData:(0,r.default)({},a)}),e.handleTriggerModal()},e.handleDel=function(a){var t=e.props.dispatch,n=function(a){1===a.code?(d.default.success("\u64cd\u4f5c\u6210\u529f"),e.initData()):d.default.error(a.msg)};k({title:"\u7cfb\u7edf\u63d0\u793a",content:"\u786e\u8ba4\u8981\u5220\u9664\u8be5\u8bb0\u5f55\u5417\uff1f",onOk:function(){t&&t({type:"carInfo/delVoltage",payload:{id:a},callback:n})}})},e.getSerarchColumns=function(){var e=[{title:"\u7535\u9891\u578b\u53f7",dataIndex:"model",componentType:"Input"},{title:"\u8f66\u8f86\u578b\u53f7",dataIndex:"type",componentType:"Input"}];return e},e.handleSearch=function(a){var t=e.state.searchData;e.setState({searchData:(0,r.default)({},t,a)},function(){e.initData()})},e.handleFormReset=function(){e.setState({searchData:{}},function(){e.initData()})},e}return(0,m.default)(a,e),(0,c.default)(a,[{key:"componentDidMount",value:function(){this.initData()}},{key:"initData",value:function(e){var a=this.props.dispatch,t=this.state,n=t.pageInfo,l=t.searchData,o={};for(var i in l)l[i]&&(o[i]=l[i]);e&&this.setState({pageInfo:{pageNum:e.pageNum,pageSize:e.pageSize}}),a&&a({type:"carInfo/fetchVoltage",payload:(0,r.default)({},o,n,e)})}},{key:"render",value:function(){var e=this,a=this.props,t=a.data,n=a.loading,l=this.state,d=l.modalVisible,r=l.modalData;return h.default.createElement(v.PageHeaderWrapper,null,h.default.createElement(i.default,null,h.default.createElement("div",{className:"flex-container"},h.default.createElement("div",{className:"flex-1"},h.default.createElement(D.default,{columns:this.getSerarchColumns(),handleSearch:this.handleSearch,handleFormReset:this.handleFormReset})),h.default.createElement("div",null,h.default.createElement(o.default,{type:"primary",onClick:this.handleAddNew},"\u6dfb\u52a0\u7535\u74f6"))),h.default.createElement(y.default,{rowKey:"id",columns:this.columns,data:t||[],loading:n,onChangeCombine:function(a){return e.initData(a)}})),h.default.createElement(V.default,{modalVisible:d,modalData:r,onCancel:this.handleTriggerModal,onOk:this.handleSubmitModal}))}}]),a}(h.Component),b=(0,g.connect)(function(e){var a=e.carInfo,t=e.loading;return{data:a.voltageData,loading:t.models.carInfo}})(I);a.default=b},lclS:function(e,a){function t(e){if(null==e)throw new TypeError("Cannot destructure undefined")}e.exports=t}}]);